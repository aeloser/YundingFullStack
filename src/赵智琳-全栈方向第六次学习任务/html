<!DOCTYPE html>  
<html>  
<head>  
    <title>用户验证</title>  
    <style>  
        .result {  
            color: red;  
        }  
    </style>  
</head>  
<body>  
    <h1>用户验证</h1>  
    <form id="loginForm">  
        <label for="email">邮箱:</label>  
        <input type="text" id="email" name="email" required><br><br>  
        <label for="password">密码:</label>  
        <input type="password" id="password" name="password" required><br><br>  
        <input type="submit" value="登录">  
    </form>  
    <div id="result"></div>  
  
    <script>  
        var msg = [  {
    name: '张三',
    age: 20,
    strengths: 'JavaScript',
    avatar: 'https://tse4-mm.cn.bing.net/th/id/OIP-C.39mOMBjUfsK-HL9jUbv1MwHaE7?pid=ImgDet&rs=1',
    email: 'yunding@qq.com',
    password: 33333
},
{
    name: '李四',
    age: 19,
    strengths: 'python',
    avatar: 'https://tse2-mm.cn.bing.net/th/id/OIP-C.YlKimVo94OkaZDZCzPIDpAHaFh?pid=ImgDet&rs=1',
    email: '12345678@163.com',
    password: 11111
},
{
    name: '王五',
    age: 18,
    strengths: 'Java',
    avatar: 'https://tse2-mm.cn.bing.net/th/id/OIP-C.P2hK9SRjhFE8WM9N8tgWFAHaEQ?pid=ImgDet&rs=1',
    email: 'yundingshuyuan@qq.cn',
    password: 222222
},

        ];  
  
        function validateEmail() {  
            var emailInput = document.getElementById('email');  
            var passwordInput = document.getElementById('password');  
            var resultDiv = document.getElementById('result');  
            var email = emailInput.value.trim();  
            var password = passwordInput.value.trim();  
            // 正则表达式匹配合法邮箱格式  
            var regex = /^([a-zA-Z0-9_-]+)(\.[a-zA-Z0-9_-]+)*@([a-zA-Z0-9_-]+)(\.[a-zA-Z0-9]+)+$/;  
            if (regex.test(email)) {  
                if (email.endsWith('.com') || email.endsWith('.cn')) {  
                    if (email.includes('@qq') || email.includes('@163')) {  
                        if (email.includes('.') && email.split('.').length === 2) {  
                            // 在对象数组中查找是否有对应属性和用户输入的邮箱，密码都相同的对象  
                            var user = msg.find(item => item.email === email && item.password === password);  
                            if (user) {  
                                // 如果有该用户，将用户的各种信息输出到页面上  
                                resultDiv.innerHTML = `欢迎回来, ${user.name}! 您的年龄是 ${user.age}岁，擅长 ${user.strengths.join(', ')}。您的邮箱是 ${user.email}，密码是 ${user.password}。`;  
                                resultDiv.className = "result";  
                            } else {  
                                resultDiv.innerHTML = '没有找到匹配的用户或密码不正确。请重试。';  
                                resultDiv.className = "result";  
                            }  
                        } else {  
                            resultDiv.textContent = '邮箱格式不正确';  
                        }  
                    } else {  
                        resultDiv.textContent = '邮箱格式不正确';  
                    }  
                } else {  
                    resultDiv.textContent = '邮箱格式不正确';  
                }  
            } else {  
                resultDiv.textContent = '邮箱格式不正确';  
            }  
        }  
        document.getElementById('loginForm').addEventListener('submit', validateEmail);  
    </script>  
</body>  
</html>
